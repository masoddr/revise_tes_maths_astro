---
// Contact form with enhanced fields as per devbook specifications
---

<form 
  id="contact-form"
  class="bg-white border border-gray-200 rounded-lg p-5 md:p-6 space-y-4"
  method="POST"
  action="#"
>
  <div>
    <label for="nom" class="block text-gray-700 font-medium mb-2 text-sm">
      Nom complet
    </label>
    <input
      type="text"
      id="nom"
      name="nom"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm text-gray-900 placeholder-gray-400"
      placeholder="Votre nom complet"
    />
  </div>

  <div>
    <label for="email" class="block text-gray-700 font-medium mb-2 text-sm">
      Email
    </label>
    <input
      type="email"
      id="email"
      name="email"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm text-gray-900 placeholder-gray-400"
      placeholder="votre.email@exemple.fr"
    />
  </div>

  <div>
    <label for="telephone" class="block text-gray-700 font-medium mb-2 text-sm">
      Téléphone
    </label>
    <input
      type="tel"
      id="telephone"
      name="telephone"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm text-gray-900 placeholder-gray-400"
      placeholder="06 12 34 56 78"
    />
  </div>

  <div>
    <label for="classe" class="block text-gray-700 font-medium mb-2 text-sm">
      Classe
    </label>
    <select
      id="classe"
      name="classe"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm text-gray-900 bg-white"
    >
      <option value="">Sélectionnez une classe</option>
      <option value="3eme">3ème</option>
      <option value="seconde">Seconde</option>
      <option value="premiere">Première</option>
      <option value="terminale">Terminale</option>
      <option value="autre">Autre</option>
    </select>
  </div>


  <div>
    <label for="message" class="block text-gray-700 font-medium mb-2 text-sm">
      Message
    </label>
    <textarea
      id="message"
      name="message"
      rows="3"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm resize-y text-gray-900 placeholder-gray-400"
      placeholder="Votre message (optionnel)"
    ></textarea>
  </div>

  <div id="form-message" class="hidden p-4 rounded-lg border transition-all duration-300">
    <div class="flex items-start gap-3">
      <div class="flex-shrink-0">
        <svg id="form-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
      </div>
      <div class="flex-1">
        <p id="form-message-text" class="text-sm font-medium"></p>
      </div>
    </div>
  </div>

  <button
    type="submit"
    class="w-full bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors text-sm"
  >
  Demander un premier échange
  </button>
</form>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }
</style>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const messageDiv = document.getElementById('form-message');
  const messageText = document.getElementById('form-message-text');
  const formIcon = document.getElementById('form-icon');
  const submitButton = form?.querySelector('button[type="submit"]') as HTMLButtonElement;

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const messageDiv = document.getElementById('form-message');
    const messageText = document.getElementById('form-message-text');
    const formIcon = document.getElementById('form-icon');
    const submitButton = form?.querySelector('button[type="submit"]') as HTMLButtonElement;
    
    if (messageDiv && messageText && formIcon) {
      // Show loading state
      if (submitButton) {
        submitButton.disabled = true;
        submitButton.textContent = 'Envoi en cours...';
      }
      
      // Simulate form submission (replace with actual API call)
      await new Promise(resolve => setTimeout(resolve, 800));
      
      // Show success message
      messageDiv.classList.remove('hidden');
      messageDiv.className = 'p-4 rounded-lg bg-green-50 border border-green-200 animate-fade-in';
      
      // Success icon
      formIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />';
      formIcon.classList.add('text-green-600');
      
      messageText.textContent = "Merci pour votre message ! Je reviens vers vous sous 24h pour proposer un créneau d'échange.";
      messageText.className = 'text-sm font-medium text-green-800';
      
      form?.reset();
      
      // Reset button
      if (submitButton) {
        submitButton.disabled = false;
        submitButton.textContent = 'Demander un premier échange';
      }
      
      // Scroll to message
      messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      
      // Hide message after 10 seconds
      setTimeout(() => {
        messageDiv.classList.add('hidden');
      }, 10000);
    }
  });
</script>
