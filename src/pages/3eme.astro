---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

// Types
type Theme = 'alg√®bre' | 'analyse' | 'probabilit√©s';
type ContentType = 'cours' | 'exercices';

interface ContentItem {
  titre: string;
  fichier: string;
  type: ContentType;
  theme: Theme;
}

// Helper function to categorize content by theme
function categorizeTheme(titre: string): Theme {
  const titreLower = titre.toLowerCase();
  
  // Probabilit√©s
  if (titreLower.includes('probabilit√©') || titreLower.includes('statistique') || titreLower.includes('√©chantillonnage')) {
    return 'probabilit√©s';
  }
  
  // Analyse
  if (titreLower.includes('fonction') || titreLower.includes('trigonom√©trie') || titreLower.includes('calcul num√©rique')) {
    return 'analyse';
  }
  
  // Alg√®bre (default for geometry, equations, etc.)
  return 'alg√®bre';
}

// Mapping des contenus avec leurs th√®mes
const contenus: ContentItem[] = [
  // Cours
  {
    titre: '01. Nombres entiers',
    fichier: '/pdf/troisieme/cours/01. Nombres entiers.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '02. Th√©or√®me de Thal√®s',
    fichier: '/pdf/troisieme/cours/02. Th√©or√®me de Thal√®s.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '03. Calculs num√©riques',
    fichier: '/pdf/troisieme/cours/03. Calculs num√©riques.pdf',
    type: 'cours',
    theme: 'analyse'
  },
  {
    titre: '04. Statistiques',
    fichier: '/pdf/troisieme/cours/04. Statistiques.pdf',
    type: 'cours',
    theme: 'probabilit√©s'
  },
  {
    titre: '05. Trigonom√©trie',
    fichier: '/pdf/troisieme/cours/05. Trigonom√©trie.pdf',
    type: 'cours',
    theme: 'analyse'
  },
  {
    titre: '06. Notions de fonctions',
    fichier: '/pdf/troisieme/cours/06. Notions de fonctions.pdf',
    type: 'cours',
    theme: 'analyse'
  },
  {
    titre: '07. Expressions alg√©briques',
    fichier: '/pdf/troisieme/cours/07. Expressions algebriques.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '08. Sections de solides',
    fichier: '/pdf/troisieme/cours/08. Sections de solides.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '08. Espace - Sections de solides',
    fichier: '/pdf/troisieme/cours/08. Espace - sections de solides.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '08. Espace - Aires et volumes',
    fichier: '/pdf/troisieme/cours/08. Espace - Aires et volumes.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '09. Factorisation et Equation',
    fichier: '/pdf/troisieme/cours/09. Factoristion et Equation.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  {
    titre: '10. Probabilit√©s',
    fichier: '/pdf/troisieme/cours/10. Probabilit√©s.pdf',
    type: 'cours',
    theme: 'probabilit√©s'
  },
  {
    titre: '10. Proba',
    fichier: '/pdf/troisieme/cours/10. Proba.pdf',
    type: 'cours',
    theme: 'probabilit√©s'
  },
  {
    titre: '11. Fonctions lin√©aires',
    fichier: '/pdf/troisieme/cours/11. Fonctions lin√©aires.pdf',
    type: 'cours',
    theme: 'analyse'
  },
  {
    titre: '12. Triangles semblables',
    fichier: '/pdf/troisieme/cours/12. Triangles semblables.pdf',
    type: 'cours',
    theme: 'alg√®bre'
  },
  // Exercices
  {
    titre: '01. Nombres entiers',
    fichier: '/pdf/troisieme/exercices/01. Exo-Nombres entiers.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  },
  {
    titre: '02. Th√©or√®me de Thal√®s',
    fichier: '/pdf/troisieme/exercices/02. Exo-Th√©or√®me de Thales.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  },
  {
    titre: '03. Calculs num√©riques',
    fichier: '/pdf/troisieme/exercices/03. Exo-Calculs num√©riques.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '03.1. Calculs num√©riques',
    fichier: '/pdf/troisieme/exercices/03.1. Exo-Calculs num√©riques.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '03.2. Calculs num√©riques',
    fichier: '/pdf/troisieme/exercices/03.2. Exo-Calculs num√©riques.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '03.3. Calculs num√©riques',
    fichier: '/pdf/troisieme/exercices/03.3. Exo-Calculs num√©riques.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '04. Statistiques',
    fichier: '/pdf/troisieme/exercices/04. Exo-Statistiques.pdf',
    type: 'exercices',
    theme: 'probabilit√©s'
  },
  {
    titre: '05. Trigonom√©trie',
    fichier: '/pdf/troisieme/exercices/05. Exo-Trigonom√©trie.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '06. Notion de fonctions',
    fichier: '/pdf/troisieme/exercices/06. Exo-Notion de fonctions.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '06.1. Notion de fonctions',
    fichier: '/pdf/troisieme/exercices/06.1. Exo-Notion de fonctions.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '06.2. Notion de fonctions',
    fichier: '/pdf/troisieme/exercices/06.2. Exo-Notion de fonctions.pdf',
    type: 'exercices',
    theme: 'analyse'
  },
  {
    titre: '07. Expressions alg√©briques',
    fichier: '/pdf/troisieme/exercices/07. Exo-Expressions alg√©briques.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  },
  {
    titre: '08. Espaces - Sections de solides',
    fichier: '/pdf/troisieme/exercices/08. Exo-Espaces - Sections de solides.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  },
  {
    titre: '09. Factorisation et Equation',
    fichier: '/pdf/troisieme/exercices/09. Exo-Factoristion et Equation.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  },
  {
    titre: '10. Probabilit√©s',
    fichier: '/pdf/troisieme/exercices/10. Exo-Probabilit√©s.pdf',
    type: 'exercices',
    theme: 'probabilit√©s'
  },
  {
    titre: '12. Triangles semblables',
    fichier: '/pdf/troisieme/exercices/12. Exo-Triangles semblables.pdf',
    type: 'exercices',
    theme: 'alg√®bre'
  }
];

// Theme colors mapping
const themeColors: Record<Theme, { bg: string; text: string; border: string }> = {
  'alg√®bre': {
    bg: 'bg-blue-50',
    text: 'text-blue-700',
    border: 'border-blue-200'
  },
  'analyse': {
    bg: 'bg-purple-50',
    text: 'text-purple-700',
    border: 'border-purple-200'
  },
  'probabilit√©s': {
    bg: 'bg-emerald-50',
    text: 'text-emerald-700',
    border: 'border-emerald-200'
  }
};
---

<Layout 
  title="Maths 3√®me - Cours & exercices | revise-tes-maths.fr"
  description="Cours et exercices de math√©matiques pour la classe de 3√®me. R√©visions et pr√©paration au brevet."
>
  <Header />
  
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-b from-blue-50 via-blue-50/50 to-white py-16 md:py-20 overflow-hidden">
    <!-- Background decorative elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute top-20 right-10 w-72 h-72 bg-cyan-200/30 rounded-full blur-3xl"></div>
      <div class="absolute bottom-10 right-20 w-96 h-96 bg-purple-200/20 rounded-full blur-3xl"></div>
      <div class="absolute top-1/2 left-10 w-64 h-64 bg-yellow-200/20 rounded-full blur-3xl"></div>
    </div>
    
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 tracking-tight">
          Math√©matiques - 3√®me
        </h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed mb-6">
          Parcourez nos cours et exercices par th√®me. Progressez √† votre rythme avec des contenus structur√©s et cibl√©s.
        </p>
        <a 
          href="#filters-section" 
          class="inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg"
        >
          Aller directement aux cours et exercices
          <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Contenu p√©dagogique enrichi -->
  <section class="bg-white py-12 md:py-16">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Introduction -->
        <div class="prose prose-lg max-w-none mb-12">
          <p class="text-lg text-gray-700 leading-relaxed mb-6">
            Les <strong>cours de maths en 3√®me</strong> repr√©sentent une √©tape cruciale dans le parcours scolaire. Cette ann√©e de <strong>maths 3√®me</strong> pr√©pare les √©l√®ves au <strong>Brevet des coll√®ges</strong> tout en consolidant les bases essentielles pour r√©ussir au lyc√©e. En tant que <strong>professeur particulier de maths</strong>, je propose un accompagnement personnalis√© pour ma√Ætriser l'ensemble du programme de <strong>math√©matiques 3√®me</strong>.
          </p>
        </div>

        <!-- Programme et objectifs -->
        <div class="mb-12">
          <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">
            Programme de math√©matiques en 3√®me
          </h2>
          <p class="text-gray-700 leading-relaxed mb-6">
            Le programme de <strong>maths 3√®me</strong> couvre trois domaines principaux : l'<strong>alg√®bre</strong>, l'<strong>analyse</strong> (notions de fonctions) et les <strong>probabilit√©s</strong>. Chaque th√®me est essentiel pour la r√©ussite au <strong>Brevet</strong> et pour la transition vers le lyc√©e.
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-blue-50 rounded-lg p-6 border border-blue-200">
              <h3 class="text-lg font-semibold text-blue-900 mb-3">Alg√®bre</h3>
              <ul class="text-sm text-gray-700 space-y-2">
                <li>‚Ä¢ Nombres entiers et rationnels</li>
                <li>‚Ä¢ Expressions alg√©briques</li>
                <li>‚Ä¢ Factorisation et √©quations</li>
                <li>‚Ä¢ Th√©or√®me de Thal√®s</li>
                <li>‚Ä¢ Triangles semblables</li>
                <li>‚Ä¢ G√©om√©trie dans l'espace</li>
              </ul>
            </div>
            
            <div class="bg-purple-50 rounded-lg p-6 border border-purple-200">
              <h3 class="text-lg font-semibold text-purple-900 mb-3">Analyse</h3>
              <ul class="text-sm text-gray-700 space-y-2">
                <li>‚Ä¢ Calculs num√©riques</li>
                <li>‚Ä¢ Notions de fonctions</li>
                <li>‚Ä¢ Fonctions lin√©aires</li>
                <li>‚Ä¢ Trigonom√©trie</li>
                <li>‚Ä¢ Statistiques descriptives</li>
              </ul>
            </div>
            
            <div class="bg-emerald-50 rounded-lg p-6 border border-emerald-200">
              <h3 class="text-lg font-semibold text-emerald-900 mb-3">Probabilit√©s</h3>
              <ul class="text-sm text-gray-700 space-y-2">
                <li>‚Ä¢ Probabilit√©s simples</li>
                <li>‚Ä¢ Statistiques</li>
                <li>‚Ä¢ √âchantillonnage</li>
                <li>‚Ä¢ Calculs de probabilit√©s</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Objectifs p√©dagogiques -->
        <div class="mb-12">
          <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">
            Objectifs p√©dagogiques pour les cours de maths 3√®me
          </h2>
          <p class="text-gray-700 leading-relaxed mb-4">
            Les <strong>cours particuliers de maths en 3√®me</strong> visent plusieurs objectifs essentiels :
          </p>
          <ul class="space-y-3 text-gray-700 mb-6">
            <li class="flex items-start">
              <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span><strong>Consolider les bases</strong> : Ma√Ætriser les op√©rations fondamentales, les calculs num√©riques et les techniques alg√©briques essentielles.</span>
            </li>
            <li class="flex items-start">
              <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span><strong>D√©velopper le raisonnement</strong> : Apprendre √† structurer sa pens√©e math√©matique, √† d√©montrer et √† argumenter de mani√®re rigoureuse.</span>
            </li>
            <li class="flex items-start">
              <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span><strong>Pr√©parer le Brevet</strong> : Acqu√©rir les comp√©tences n√©cessaires pour r√©ussir l'√©preuve de <strong>maths au Brevet</strong>, avec une m√©thodologie adapt√©e aux exigences de l'examen.</span>
            </li>
            <li class="flex items-start">
              <svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span><strong>Anticiper le lyc√©e</strong> : Poser des bases solides pour aborder sereinement les <strong>cours de maths en seconde</strong> et les ann√©es suivantes.</span>
            </li>
          </ul>
        </div>

        <!-- Points cl√©s √† ma√Ætriser -->
        <div class="mb-12">
          <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">
            Points cl√©s √† ma√Ætriser en maths 3√®me
          </h2>
          <div class="bg-gray-50 rounded-lg p-6 md:p-8 mb-6">
            <p class="text-gray-700 leading-relaxed mb-4">
              Pour r√©ussir en <strong>math√©matiques 3√®me</strong>, certains points sont particuli√®rement importants :
            </p>
            <div class="space-y-4">
              <div>
                <h3 class="font-semibold text-gray-900 mb-2">1. Le calcul alg√©brique</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  La ma√Ætrise des expressions alg√©briques, de la factorisation et de la r√©solution d'√©quations est fondamentale. Ces comp√©tences sont essentielles pour le <strong>Brevet</strong> et pour la suite du parcours.
                </p>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 mb-2">2. La g√©om√©trie</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  Le th√©or√®me de Thal√®s, les triangles semblables et la g√©om√©trie dans l'espace sont des chapitres importants du programme de <strong>maths 3√®me</strong>. Une bonne compr√©hension de ces notions facilite la r√©solution de probl√®mes complexes.
                </p>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 mb-2">3. Les fonctions</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  L'introduction aux fonctions, notamment les fonctions lin√©aires, pr√©pare les √©l√®ves aux <strong>cours de maths au lyc√©e</strong>. C'est une transition importante vers des concepts plus abstraits.
                </p>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 mb-2">4. Les probabilit√©s et statistiques</h3>
                <p class="text-gray-700 text-sm leading-relaxed">
                  Ces chapitres d√©veloppent le raisonnement probabiliste et la capacit√© √† analyser des donn√©es, comp√©tences utiles tant pour le <strong>Brevet</strong> que pour la vie quotidienne.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Pr√©paration au Brevet -->
        <div class="mb-12">
          <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">
            Pr√©paration au Brevet de math√©matiques
          </h2>
          <p class="text-gray-700 leading-relaxed mb-6">
            La <strong>pr√©paration au Brevet</strong> n√©cessite une approche m√©thodique. Mes <strong>cours de maths en 3√®me</strong> incluent :
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <h3 class="font-semibold text-gray-900 mb-3">R√©vision syst√©matique</h3>
              <p class="text-gray-700 text-sm leading-relaxed">
                R√©vision de tous les chapitres du programme avec des <strong>exercices de maths 3√®me</strong> progressifs et adapt√©s au niveau de chaque √©l√®ve.
              </p>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <h3 class="font-semibold text-gray-900 mb-3">Annales du Brevet</h3>
              <p class="text-gray-700 text-sm leading-relaxed">
                Entra√Ænement sur les <a href="/3eme/annales-brevet" class="text-blue-600 hover:text-blue-700 underline"><strong>annales du Brevet</strong></a> pour se familiariser avec le format de l'examen et identifier les points √† renforcer.
              </p>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <h3 class="font-semibold text-gray-900 mb-3">M√©thodologie</h3>
              <p class="text-gray-700 text-sm leading-relaxed">
                Apprentissage de techniques de r√©solution de probl√®mes et de gestion du temps lors de l'√©preuve de <strong>maths au Brevet</strong>.
              </p>
            </div>
            <div class="bg-white border border-gray-200 rounded-lg p-6">
              <h3 class="font-semibold text-gray-900 mb-3">Suivi personnalis√©</h3>
              <p class="text-gray-700 text-sm leading-relaxed">
                Accompagnement adapt√© aux besoins sp√©cifiques de chaque √©l√®ve pour maximiser ses chances de r√©ussite au <strong>Brevet</strong>.
              </p>
            </div>
          </div>
        </div>

        <!-- CTA vers cours particuliers -->
        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-6 md:p-8">
          <h2 class="text-xl md:text-2xl font-bold text-gray-900 mb-4">
            Besoin d'aide en maths 3√®me ?
          </h2>
          <p class="text-gray-700 leading-relaxed mb-4">
            Si vous recherchez un <strong>professeur particulier de maths</strong> pour accompagner votre enfant en 3√®me, je propose des <strong>cours particuliers</strong> adapt√©s √† son niveau. Que ce soit pour pr√©parer le <strong>Brevet</strong> ou pour consolider les bases, mes <strong>cours de maths en visio</strong> ou √† Paris permettent un suivi personnalis√© et efficace.
          </p>
          <div class="flex flex-col sm:flex-row gap-4">
            <a 
              href="/cours-maths-visio" 
              class="inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors"
            >
              Cours en visio
            </a>
            <a 
              href="/cours-maths-paris" 
              class="inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 font-semibold border-2 border-blue-600 rounded-lg hover:bg-blue-50 transition-colors"
            >
              Cours √† Paris
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Filters Section -->
  <section id="filters-section" class="bg-white border-b border-gray-100 sticky top-0 z-10 backdrop-blur-sm bg-white/95">
    <div class="container mx-auto px-4 py-6">
      <div class="max-w-7xl mx-auto">
        <!-- Search Bar -->
        <div class="mb-6">
          <div class="relative max-w-md">
            <input
              type="text"
              id="search-input"
              placeholder="Rechercher un cours ou un exercice..."
              class="w-full px-4 py-2.5 pl-10 pr-4 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"
            />
            <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        
        <div class="flex flex-col md:flex-row gap-6 items-start md:items-center justify-between">
          <!-- Type Filter -->
          <div class="flex flex-wrap gap-3 items-center">
            <span class="text-sm font-semibold text-gray-700">Type :</span>
            <div class="flex gap-2">
              <button 
                data-filter-type="all"
                class="filter-type-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-900 text-white shadow-sm hover:bg-gray-800"
              >
                Tout
              </button>
              <button 
                data-filter-type="cours"
                class="filter-type-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
              >
                üìñ Cours
              </button>
              <button 
                data-filter-type="exercices"
                class="filter-type-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
              >
                ‚úèÔ∏è Exercices
              </button>
            </div>
          </div>
          
          <!-- Theme Filter -->
          <div class="flex flex-wrap gap-3 items-center">
            <span class="text-sm font-semibold text-gray-700">Th√®me :</span>
            <div class="flex gap-2">
              <button 
                data-filter-theme="all"
                class="filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-900 text-white shadow-sm hover:bg-gray-800"
              >
                Tous
              </button>
              <button 
                data-filter-theme="alg√®bre"
                class="filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
              >
                Alg√®bre
              </button>
              <button 
                data-filter-theme="analyse"
                class="filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
              >
                Analyse
              </button>
              <button 
                data-filter-theme="probabilit√©s"
                class="filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
              >
                Probabilit√©s
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Content Grid Section -->
  <section class="bg-white py-12 md:py-16">
    <div class="container mx-auto px-4">
      <div class="max-w-7xl mx-auto">
        <!-- Results count -->
        <div class="mb-8">
          <p class="text-gray-600">
            <span id="results-count" class="font-semibold text-gray-900">{contenus.length}</span> contenu{contenus.length > 1 ? 's' : ''} disponible{contenus.length > 1 ? 's' : ''}
          </p>
        </div>
        
        <!-- Content Grid -->
        <div id="content-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {contenus.map((contenu) => {
            const themeColor = themeColors[contenu.theme];
            return (
              <a
                href={contenu.fichier}
                target="_blank"
                rel="noopener noreferrer"
                data-type={contenu.type}
                data-theme={contenu.theme}
                class="content-card group block p-6 bg-white border border-gray-200 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-gray-200/50 hover:-translate-y-1"
              >
                <div class="flex items-start gap-4">
                  <div class="text-3xl flex-shrink-0 filter drop-shadow-sm">
                    {contenu.type === 'cours' ? 'üìñ' : '‚úèÔ∏è'}
                  </div>
                  <div class="flex-1 min-w-0">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors leading-snug">
                      {contenu.titre}
                    </h3>
                    <div class="flex items-center gap-2 flex-wrap">
                      <span class={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${themeColor.bg} ${themeColor.text} ${themeColor.border} border`}>
                        {contenu.theme}
                      </span>
                      <span class="text-xs text-gray-500 capitalize font-medium">
                        {contenu.type}
                      </span>
                    </div>
                  </div>
                </div>
              </a>
            );
          })}
        </div>
        
        <!-- Empty State -->
        <div id="empty-state" class="hidden text-center py-16">
          <div class="text-6xl mb-4">üîç</div>
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Aucun contenu trouv√©</h3>
          <p class="text-gray-600">Essayez de modifier vos filtres</p>
        </div>
      </div>
    </div>
  </section>
  
  <Footer />

  <script>
    // Get initial filter from URL params
    const urlParams = new URLSearchParams(window.location.search);
    const initialTypeFilter = urlParams.get('type') || 'all';
    
    // Filter state
    let currentTypeFilter = initialTypeFilter;
    let currentThemeFilter = 'all';
    let currentSearchQuery = '';

    // Get all elements
    const typeButtons = document.querySelectorAll('.filter-type-btn');
    const themeButtons = document.querySelectorAll('.filter-theme-btn');
    const contentCards = document.querySelectorAll('.content-card');
    const resultsCount = document.getElementById('results-count');
    const emptyState = document.getElementById('empty-state');
    const contentGrid = document.getElementById('content-grid');
    const searchInput = document.getElementById('search-input');

    // Update button styles
    function updateButtonStyles() {
      typeButtons.forEach(btn => {
        const filterValue = btn.getAttribute('data-filter-type');
        if (filterValue === currentTypeFilter) {
          btn.className = 'filter-type-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-900 text-white shadow-sm hover:bg-gray-800';
        } else {
          btn.className = 'filter-type-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300';
        }
      });

      themeButtons.forEach(btn => {
        const filterValue = btn.getAttribute('data-filter-theme');
        if (filterValue === currentThemeFilter) {
          btn.className = 'filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-900 text-white shadow-sm hover:bg-gray-800';
        } else {
          btn.className = 'filter-theme-btn px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300';
        }
      });
    }

    // Filter content
    function filterContent() {
      let visibleCount = 0;
      const searchQuery = currentSearchQuery.toLowerCase().trim();

      contentCards.forEach(card => {
        const cardType = card.getAttribute('data-type');
        const cardTheme = card.getAttribute('data-theme');
        const cardTitle = card.querySelector('h3')?.textContent?.toLowerCase() || '';
        
        const typeMatch = currentTypeFilter === 'all' || cardType === currentTypeFilter;
        const themeMatch = currentThemeFilter === 'all' || cardTheme === currentThemeFilter;
        const searchMatch = searchQuery === '' || cardTitle.includes(searchQuery);
        
        if (typeMatch && themeMatch && searchMatch) {
          card.classList.remove('hidden');
          visibleCount++;
        } else {
          card.classList.add('hidden');
        }
      });

      // Update results count
      if (resultsCount) {
        resultsCount.textContent = visibleCount.toString();
        const countText = visibleCount > 1 ? 's' : '';
        const parent = resultsCount.parentElement;
        if (parent) {
          parent.innerHTML = `<span id="results-count" class="font-semibold text-gray-900">${visibleCount}</span> contenu${countText} disponible${countText}`;
          // Re-attach reference
          const newResultsCount = document.getElementById('results-count');
          if (newResultsCount) {
            Object.assign(resultsCount, newResultsCount);
          }
        }
      }

      // Show/hide empty state
      if (emptyState && contentGrid) {
        if (visibleCount === 0) {
          emptyState.classList.remove('hidden');
          contentGrid.classList.add('hidden');
        } else {
          emptyState.classList.add('hidden');
          contentGrid.classList.remove('hidden');
        }
      }
    }

    // Type filter event listeners
    typeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const filterValue = btn.getAttribute('data-filter-type');
        if (filterValue) {
          currentTypeFilter = filterValue;
          updateButtonStyles();
          filterContent();
        }
      });
    });

    // Theme filter event listeners
    themeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const filterValue = btn.getAttribute('data-filter-theme');
        if (filterValue) {
          currentThemeFilter = filterValue;
          updateButtonStyles();
          filterContent();
        }
      });
    });

    // Search input event listener
    if (searchInput) {
      searchInput.addEventListener('input', (e) => {
        currentSearchQuery = (e.target as HTMLInputElement).value;
        filterContent();
      });
    }

    // Apply initial filter from URL
    if (initialTypeFilter !== 'all') {
      updateButtonStyles();
    }
    
    // Initial filter
    filterContent();
  </script>

  <style>
    .content-card {
      will-change: transform;
    }
    
    .content-card:hover {
      border-color: #d1d5db;
    }

    /* Smooth scroll behavior */
    html {
      scroll-behavior: smooth;
    }

    /* Filter buttons active state enhancement */
    .filter-type-btn:active,
    .filter-theme-btn:active {
      transform: scale(0.98);
    }
  </style>
</Layout>
